<div class="video-bg-container">
  <video class="video-bg" src="assets/videos/SegundoFondo.mp4" autoplay muted loop playsinline></video>
</div>

<div class="registro-container">

  <!-- Mensaje de éxito -->
  <div *ngIf="successMessage" class="success-message">
    {{ successMessage }}
  </div>

  <form class="registro-card" [formGroup]="registroForm" (ngSubmit)="onSubmit()">
    <div class="logo">
      <span class="logo-text">Ferremas</span>
    </div>
    <p class="subtitle">Crea tu cuenta</p>

    <div class="form-group">
      <label for="usuario">Usuario</label>
      <input id="usuario" type="text" formControlName="username" placeholder="Elige un nombre de usuario" />
      <div *ngIf="registroForm.get('username')?.touched && registroForm.get('username')?.invalid" class="error">
        El usuario es requerido.
      </div>
    </div>

    <div class="form-group">
      <label for="nombre">Nombre</label>
      <input id="nombre" type="text" formControlName="first_name" placeholder="Su Primer Nombre" />
      <div *ngIf="registroForm.get('first_name')?.touched && registroForm.get('first_name')?.invalid" class="error">
        El nombre es requerido.
      </div>
    </div>

    <div class="form-group">
      <label for="apellido">Apellido</label>
      <input id="apellido" type="text" formControlName="last_name" placeholder="Su apellido" />
      <div *ngIf="registroForm.get('last_name')?.touched && registroForm.get('last_name')?.invalid" class="error">
        El apellido es requerido.
      </div>
    </div>

    <div class="form-group">
      <label for="genero">Género</label>
      <select id="genero" formControlName="genero">
        <option value="" disabled>Selecciona tu género</option>
        <option value="masculino">Masculino</option>
        <option value="femenino">Femenino</option>
      </select>
      <div *ngIf="registroForm.get('genero')?.touched && registroForm.get('genero')?.invalid" class="error">
        El género es requerido.
      </div>
    </div>

    <div class="form-group">
      <label for="celular">Celular</label>
      <input id="celular" type="tel" formControlName="celular" placeholder="Ej: +56912345678" />
      <div *ngIf="registroForm.get('celular')?.touched && registroForm.get('celular')?.invalid" class="error">
        El celular es requerido.
      </div>
    </div>

    <div class="form-group">
      <label for="rut">RUT</label>
      <input id="rut" type="text" formControlName="rut" placeholder="Ej: 12.345.678-9" />
      <div *ngIf="registroForm.get('rut')?.touched && registroForm.get('rut')?.invalid" class="error">
        El RUT es requerido.
      </div>
    </div>

    <div class="form-group">
      <label for="password">Contraseña</label>
      <input id="password" type="password" formControlName="password" placeholder="Crea una contraseña" />
      <div *ngIf="registroForm.get('password')?.touched && registroForm.get('password')?.invalid" class="error">
        La contraseña es requerida.
      </div>
    </div>

    <button type="submit" class="btn" [disabled]="registroForm.invalid">Registrarse</button>

    <div class="footer">
      ¿Ya tienes cuenta?
      <a routerLink="/login" class="signin-link">Accede aquí</a>
    </div>
  </form>
</div>
